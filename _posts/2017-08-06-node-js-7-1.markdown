---
layout: post
title:  node.js 외부 모듈 - jade 모듈
date:   2017-08-06 16:13:00
author: Aaron Lee
categories: node.js
tags:	node.js book study
cover:  "/assets/node_js_book_01.png"
---

# jade 모듈
템플릿 엔진 모듈로 jade 문자열을 HTML 문자열로 변환해 준다. Node.js 에서 가장 많이 사용되는 웹 프레임워크인 express 프레임워크가 템플릿 엔진으로 ejs 모듈과 jade 모듈을 사용한다.

### *jade 모듈 메서드*
- compile( string ) : jade 문자열을 HTML 문자열로 바꿀 수 있는 함수 생성

```
var http = require('http');
var fs = require('fs');
var jade = require('jade');

http.createServer(function (request, response) {
    // jade 파일 읽기
    fs.readFile('JADEPage.jade', 'utf8', function (error, data) {
        var fn = jade.compile(data);
        
        response.writeHead(200, { 'Content-Type': 'text/html' });
        response.end(fn());
    });
}).listen(52273, function () {
    console.log('Server Running at http://127.0.0.1:52273');
});
```

## jade 기본 형식
들여쓰기로 각 태그의 HTML 구조를 형성한다.
```
html
    head
        title
    body
        h1
        h2
        hr
        a
```

> NOTE_ 들여쓰기는 탭과 띄어쓰기 중 한 형태만 사용해야 한다. 두 가지 형태를 혼합해 사용하면 오류가 발생한다.

태그 안에 글자를 입력하고 싶을 때는 지정한 태그 뒤에 원하는 글자를 입력한다. 또한 태그에 속성을 입력하고 싶을 때는 지정한 태그 뒤에 괄호를 사용하고 속성을 입력한다.
```
html
    head
        title Index Page
    body
        h1 Hello jade ... !
        h2 Aaron Lee
        hr
        a(href="https://aaronleedev.github.io/", data-test="multiple Attribute") Go To Aaron Lee Bolg
```

![_config.yml]({{ site.baseurl }}/images/2017-08-06-node-js-7-1-01.png)

> NOTE_ 집핑(Zipping)  
> jade 파일로 생성된 페이지의 소스 코드를 확인하면 모든 태그가 들여쓰기 구분 없이 생성되는 것을 확인할 수 있다. 이렇게 소스 코드를 클라이언트에 제공하여 웹 페이지 용량을 줄이는 것을 집핑(Zipping) 이라고 한다.

```
doctype html
html
    head
        title Index Page
    body
        // JADE String
        #header
            h1 Hello jade ... !
            h2 Aaron Lee
        hr
        .article
            a(href="https://aaronleedev.github.io/", data-test="multiple Attribute") Go To Aaron Lee Bolg
```

![_config.yml]({{ site.baseurl }}/images/2017-08-06-node-js-7-1-02.png)

- doctype html -> <!DOCTYPE html>
- // JADE String -> <!-- JADE String -->
- #header -> id 속성이 header 인 div 태그 생성
- .article -> class 속성이 article 인 div 태그 생성

> NOTE_ jade 기본 형식의 script 태그와 style 태그  
> ejs 페이지는 script 태그와 style 태그를 입력할 때 HTML 페이지에서와 동일하게 작성하면 된다. 하지만 jade 페이지에서는 아래와 같이 작성해야 한다.
> ```
> doctype html
> html
>   head
>       title Index Page
>       style
>           * { margin:0px; padding:0px }
>           h1 {
>               color:Red;
>           }
>       script(src="http://code.jquery.com/jquery-1.10.2.js")
>       script
>           $(document).ready(function () {
>               var alpha = 10;
>           });
>   body
>       h1 Index Page
> ```

## jade 특수 기호
### *jade 파일의 특수 태그*
- - Code : 자바스크립트 코드 입력
- #{Value} : 데이터 출력
- = Value : 데이터 출력

```
doctype html
html
    head
        title Index Page
    body
        // JADE String
        h1 #{name} .. !
        h2= description
        hr
        - for(var i = 0; i < 10; i++) {
            p
                a(href="https://aaronleedev.github.io/") Go To Aaron Lee Bolg #{i}
        - }
```

![_config.yml]({{ site.baseurl }}/images/2017-08-06-node-js-7-1-03.png)


> NOTE_ jade 모듈의 추가 사항은 [jade 모듈 GigHub 페이지](https://github.com/visionmedia/jade)를 참고.

